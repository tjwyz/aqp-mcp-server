{
  "generate_aqp_search_prompt": {
    "name": "generate_aqp_search_prompt",
    "description": "必须在调用 'aqp_search' 工具前调用本工具。它会分析用户自然语言输入，提取广告搜索 query、model 和参数，构造成结构化参数供 'aqp_search' 使用。",
    "inputSchema": {
      "type": "object",
      "properties": {
        "userInput": {
          "type": "string",
          "description": "用户输入的自然语言文本"
        }
      },
      "required": ["userInput"]
    }
  },
  "aqp_search": {
    "name": "aqp_search",
    "description": "根据结构化的广告查询参数（query, model, params）执行广告搜索。⚠️ 注意：调用本工具之前，必须先调用 'generate_aqp_search_prompt' 工具，从用户的自然语言中提取参数。不要在没有参数准备的情况下调用本工具。",
    "inputSchema": {
      "type": "object",
      "properties": {
        "model": {
          "type": "string",
          "description": "广告搜索模式，例如 ta、pa、msan"
        },
        "query": {
          "type": "string",
          "description": "广告搜索关键词"
        },
        "params": {
          "type": "array",
          "description": "广告查询参数数组（可选）",
          "items": {
            "type": "object",
            "properties": {
              "parameter": { "type": "string" },
              "value": { "type": "string" },
              "isPostBody": { "type": "boolean" }
            },
            "required": ["parameter", "value", "isPostBody"]
          }
        }
      },
      "required": ["model", "query"]
    }
  },
  "decode_bingads_url": {
    "name": "decode_bingads_url",
    "description": "Decodes a full Bing Ads redirect URL (typically an rlink) to extract the final landing page, ad metadata, and user search intent.",
    "inputSchema": {
      "type": "object",
      "properties": {
        "url": {
          "type": "string",
          "description": "A full Bing Ads redirect URL"
        }
      },
      "required": ["url"]
    }
  }
}
